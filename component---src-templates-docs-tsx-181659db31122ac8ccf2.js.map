{"version":3,"file":"component---src-templates-docs-tsx-181659db31122ac8ccf2.js","mappings":"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","sources":["webpack://ucloud-design-site/./src/components/Footer/index.tsx","webpack://ucloud-design-site/./src/components/Footer/styles.module.scss","webpack://ucloud-design-site/./src/components/ToC/index.tsx","webpack://ucloud-design-site/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://ucloud-design-site/./src/components/ToC/styles.module.scss","webpack://ucloud-design-site/./src/templates/docs.tsx","webpack://ucloud-design-site/./src/templates/styles.module.scss"],"sourcesContent":["import * as React from 'react';\nimport UDesign from '../../images/u-design.png';\nimport * as styles from './styles.module.scss';\n\nconst Index = () => {\n    return (\n        <footer className={styles.w}>\n            <div className={styles.c}>\n                <div className={styles.top}>\n                    <div className={styles.logo}>\n                        <img src={UDesign} alt=\"logo\" />\n                    </div>\n                    <ul className={styles.links}>\n                        <li>\n                            <a href=\"https://github.com/UCloud-FE/react-components\" target=\"_blank\">\n                                Github\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <div className={styles.bottom}>\n                    Copyright © 2021-{new Date().getFullYear()} UCloud 优刻得科技股份有限公司\n                </div>\n            </div>\n        </footer>\n    );\n};\n\nexport default Index;\n","// extracted by mini-css-extract-plugin\nexport var bottom = \"styles-module--bottom--avO1O\";\nexport var c = \"styles-module--c--KNFgU\";\nexport var links = \"styles-module--links--PkqkH\";\nexport var logo = \"styles-module--logo--vm1Bk\";\nexport var top = \"styles-module--top--eTjLM\";\nexport var w = \"styles-module--w--H1HBA\";","import * as React from 'react';\nimport * as styles from './styles.module.scss';\n\nexport type Heading = {\n    value: string;\n    depth: number;\n    id?: string;\n};\n\nconst ToC = (props: {\n    currentHash?: string;\n    originalHash?: boolean;\n    headings: Heading[];\n    className?: string;\n    location: any;\n}) => {\n    const { headings, currentHash, originalHash, className, location, ...rest } = props;\n\n    if (!headings?.length) {\n        return null;\n    }\n\n    return (\n        <div {...rest} className={`${styles.wrapper} ${className || ''}`}>\n            <h2>目录</h2>\n            <div className={styles.innerScroll}>\n                {headings.map((heading, index) => {\n                    const hash = originalHash ? heading.id : heading.value.replace(/\\s+/g, '-').toLowerCase();\n                    const isHighlight = `#${hash}` === currentHash;\n\n                    if (heading.depth === 2 || heading.depth === 3) {\n                        return (\n                            <div\n                                className={`${styles.to} ${isHighlight ? styles.current : ''}`}\n                                key={heading.value + index}\n                            >\n                                <a\n                                    style={{\n                                        paddingLeft: heading.depth === 3 ? 16 : 0,\n                                    }}\n                                    href={`#${hash}`}\n                                >\n                                    {heading.value}\n                                </a>\n                            </div>\n                        );\n                    }\n                })}\n            </div>\n        </div>\n    );\n};\n\nexport default ToC;\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport var current = \"styles-module--current--MLay0\";\nexport var innerScroll = \"styles-module--innerScroll--+bO7O\";\nexport var to = \"styles-module--to--V9muq\";\nexport var wrapper = \"styles-module--wrapper--uyc1R\";","import React, { useEffect, useState } from 'react';\nimport { graphql } from 'gatsby';\nimport Seo from '../components/seo';\nimport ToC from '../components/ToC';\nimport Footer from '../components/Footer';\nimport * as styles from './styles.module.scss';\n\nconst Index = ({ data, location }) => {\n    const [scrollCurrentHash, setScrollCurrentHash] = useState('');\n    const markdownRemark = data.markdownRemark;\n    const { headings, fields } = markdownRemark;\n\n    const handleScroll = () => {\n        const el = document.querySelector('#docs_s_w');\n        const top = el.scrollTop;\n        let sections = el.querySelectorAll('[aria-label]');\n        let currentHash;\n\n        for (let i = 0; i < sections.length; i++) {\n            if (sections[i].parentElement.tagName === 'H4') {\n                continue;\n            }\n\n            var itemTop = sections[i].parentElement.offsetTop;\n            console.log(sections[i].hash);\n            if (top > itemTop - 120) {\n                currentHash = decodeURIComponent(sections[i].hash);\n            } else {\n                break;\n            }\n        }\n\n        setScrollCurrentHash(currentHash);\n    };\n\n    useEffect(() => {\n        const el = document.querySelector('#docs_s_w');\n        el.addEventListener('scroll', handleScroll);\n        return () => el.removeEventListener('scroll', handleScroll);\n    }, []);\n\n    const getToC = () => {\n        if (fields.slug === '/docs/changelog/') {\n            return null;\n        }\n        return <ToC currentHash={scrollCurrentHash} headings={markdownRemark.headings || []} location={location} />;\n    };\n\n    return (\n        <div className={styles.wrapper}>\n            <Seo title={headings[0]?.value} />\n\n            <div className={styles.contentWrapper} id=\"docs_s_w\">\n                {getToC()}\n                <div className={styles.content}>\n                    <section\n                        className=\"u-markdown-docs-styles\"\n                        dangerouslySetInnerHTML={{ __html: markdownRemark.html }}\n                    />\n                </div>\n                <Footer />\n            </div>\n        </div>\n    );\n};\n\nexport default Index;\n\nexport const pageQuery = graphql`\n    query DocsBySlug($id: String!) {\n        markdownRemark(id: { eq: $id }) {\n            id\n            excerpt(pruneLength: 160)\n            html\n            headings {\n                value\n                depth\n            }\n            fields {\n                slug\n            }\n            frontmatter {\n                title\n            }\n        }\n    }\n`;\n","// extracted by mini-css-extract-plugin\nexport var content = \"styles-module--content--2T7OC\";\nexport var contentWrapper = \"styles-module--content-wrapper--WvK+Z\";\nexport var current = \"styles-module--current--e4L8z\";\nexport var designIcon = \"styles-module--design-icon--52uUk\";\nexport var devIcon = \"styles-module--devIcon--dN5Ql\";\nexport var dtIcon = \"styles-module--dtIcon--dcmI3\";\nexport var tabs = \"styles-module--tabs--8CB5O\";\nexport var top = \"styles-module--top--5+Am6\";\nexport var wrapper = \"styles-module--wrapper--iQTjf\";"],"names":["React","className","src","UDesign","alt","href","target","Date","getFullYear","props","headings","currentHash","originalHash","rest","location","source","excluded","key","i","sourceKeys","Object","keys","length","indexOf","styles","map","heading","index","hash","id","value","replace","toLowerCase","isHighlight","depth","style","paddingLeft","data","useState","scrollCurrentHash","setScrollCurrentHash","markdownRemark","fields","handleScroll","el","document","querySelector","top","scrollTop","sections","querySelectorAll","parentElement","tagName","itemTop","offsetTop","console","log","decodeURIComponent","useEffect","addEventListener","removeEventListener","Seo","title","_headings$","slug","ToC","dangerouslySetInnerHTML","__html","html","Footer","content","contentWrapper","current","designIcon","devIcon","dtIcon","tabs","wrapper"],"sourceRoot":""}