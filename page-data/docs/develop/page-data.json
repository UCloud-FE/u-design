{"componentChunkName":"component---src-templates-docs-tsx","path":"/docs/develop/","result":{"data":{"markdownRemark":{"id":"71efbca8-df64-5b04-adf6-91a769f535ed","excerpt":"组件开发 如何创建一个新组件 手动创建 在 src/components 中创建组件名称对应的文件夹 文件夹中创建 index.jsx 用于导出组件及子组件等 创建对应的组件文件，主组件文件名与文件夹名相同 创建对应的 md 文件，用作文档编写 创建文件夹用于存放 demo…","html":"<h3 id=\"组件开发\" style=\"position:relative;\"><a href=\"#%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91\" aria-label=\"组件开发 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>组件开发</h3>\n<h4 id=\"如何创建一个新组件\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%BB%84%E4%BB%B6\" aria-label=\"如何创建一个新组件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何创建一个新组件</h4>\n<ul>\n<li>手动创建\n<ul>\n<li>在 src/components 中创建组件名称对应的文件夹</li>\n<li>文件夹中创建 index.jsx 用于导出组件及子组件等</li>\n<li>创建对应的组件文件，主组件文件名与文件夹名相同</li>\n<li>创建对应的 md 文件，用作文档编写</li>\n<li>创建<code class=\"language-text\">__demo__</code>文件夹用于存放 demo 代码</li>\n<li>创建<code class=\"language-text\">__tests__</code>文件夹用于存放测试用例</li>\n<li>创建<code class=\"language-text\">style</code>文件夹用于存放样式相关代码</li>\n<li>在 .styleguide/components.json 中添加导出文档的配置</li>\n<li>重启文档系统来看到新组件</li>\n</ul>\n</li>\n<li>或者通过脚本快速创建\n<ul>\n<li>执行<code class=\"language-text\">npm run component:add ${组件名称}</code>来快速创建</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"文档系统\" style=\"position:relative;\"><a href=\"#%E6%96%87%E6%A1%A3%E7%B3%BB%E7%BB%9F\" aria-label=\"文档系统 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>文档系统</h3>\n<ul>\n<li>文档中可使用的全局变量：\n<ul>\n<li>所有的主要组件</li>\n<li>react -> React, lodash -> _, prop-types -> PropTypes, moment -> moment</li>\n</ul>\n</li>\n<li>不完善的地方\n<ul>\n<li>从其它文件中导入的 propType 等类型无法识别</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"开发规范\" style=\"position:relative;\"><a href=\"#%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83\" aria-label=\"开发规范 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>开发规范</h3>\n<h4 id=\"git-commit-规范\" style=\"position:relative;\"><a href=\"#git-commit-%E8%A7%84%E8%8C%83\" aria-label=\"git commit 规范 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git Commit 规范</h4>\n<ul>\n<li>\n<p>commit 格式遵循<a href=\"https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#commits\">AngularJS Git Commit Guidelines</a></p>\n</li>\n<li>\n<p>Commit 信息格式：</p>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>type</span><span class=\"token punctuation\">></span></span>(<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>): <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>subject</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BLANK</span> <span class=\"token attr-name\">LINE</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BLANK</span> <span class=\"token attr-name\">LINE</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span><span class=\"token punctuation\">></span></span></code></pre></div>\n</li>\n<li>\n<p>提交时请使用<code class=\"language-text\">npm run cm</code>来替换<code class=\"language-text\">git commit</code>，或者根据<code class=\"language-text\">[commitizen 文档](https://github.com/commitizen/cz-cli#conventional-commit-messages-as-a-global-utility)</code>添加全局命令后使用<code class=\"language-text\">git cz</code>命令</p>\n</li>\n</ul>\n<h4 id=\"api-风格\" style=\"position:relative;\"><a href=\"#api-%E9%A3%8E%E6%A0%BC\" aria-label=\"api 风格 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API 风格</h4>\n<ul>\n<li>枚举值属性必须在 propTypes 中定义完整可枚举列表，枚举内容需要语义化，便于理解，可枚举列表绑到对应组件下，方便外部获取（参考 Grid justify）</li>\n<li>组件的组成部分在唯一且结构固定时使用 props 而不是使用 children 查找组合（参考 Card）</li>\n<li>UI 和功能非耦合的情况下可考虑拆分组件（参考 Form 和 ZForm)</li>\n<li>非特殊情况，所有组件必须在外层完整继承原生支持的 props，如 className、style、onClick 等（参考 Grid）</li>\n<li>当某些展示性可自定义的 props ，有默认展示但是支持隐藏时统一使用 null 进行隐藏，（不包括常见的 bool 型定义的 props）（参考 Notice icon）</li>\n<li>受控非受控属性必须界定完全，非受控属性统一以受控属性前加 default 来命名（参考 Popover visible）</li>\n<li>注意 defaultProps 和 required props 的互斥</li>\n<li>样式风格 props 统一命名为 styleType</li>\n<li>事件触发的回调等统一命名为 onEvent，如 onChange。而处理函数等统一命名为 handleWhat，如 handleSearch</li>\n<li>表单控件类的需要适配 sm、md、lg 三种尺寸大小</li>\n</ul>\n<h4 id=\"demo文档编写\" style=\"position:relative;\"><a href=\"#demo%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99\" aria-label=\"demo文档编写 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DEMO、文档编写</h4>\n<ul>\n<li>每个暴露出去的组件必须编写对应的 demo，方便开发者参考</li>\n<li>文档名称为<code class=\"language-text\">组件名.md</code></li>\n<li>文档顺序为：\n<ol>\n<li>组件说明</li>\n<li>代码样式\n<ol>\n<li>包含所有可控的 props 的完整演示 demo，方便开发者自由搭配查看效果</li>\n<li>单个 props、功能的演示 demo，方便快速查看 props 的效果和快照测试</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>demo 文件统一放在<code class=\"language-text\">__demo__</code>中，命名格式为：\n<ol>\n<li>对于完整演示 demo，命名为<code class=\"language-text\">组件名.jsx</code></li>\n<li>对于单个 props、功能的样式 demo，命名为<code class=\"language-text\">组件名-(props名称|功能名称).jsx</code>，主组件的组件名可不写</li>\n</ol>\n</li>\n<li>demo 中需抛出<code class=\"language-text\">Demo</code>组件，用于文档中展示，import 和 export 等代码写在头尾，主体内容用<code class=\"language-text\">// demo start</code>和<code class=\"language-text\">// demo end</code>包裹</li>\n</ul>\n<h4 id=\"如何发布\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83\" aria-label=\"如何发布 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何发布</h4>\n<ul>\n<li>发布使用<code class=\"language-text\">standard-version</code>，可直接快速执行<code class=\"language-text\">npm run publish:version</code>来快速生成<code class=\"language-text\">changelog</code>，并修改版本号</li>\n<li>review <code class=\"language-text\">changelog</code>无误后 <code class=\"language-text\">git push --follow-tags</code> 到 github，等待执行测试编译无问题，，等待<code class=\"language-text\">ci</code>自动发布</li>\n</ul>","headings":[{"value":"组件开发","depth":3},{"value":"如何创建一个新组件","depth":4},{"value":"文档系统","depth":3},{"value":"开发规范","depth":3},{"value":"Git Commit 规范","depth":4},{"value":"API 风格","depth":4},{"value":"DEMO、文档编写","depth":4},{"value":"如何发布","depth":4}],"fields":{"slug":"/docs/develop/"},"frontmatter":{"title":""}}},"pageContext":{"id":"71efbca8-df64-5b04-adf6-91a769f535ed"}},"staticQueryHashes":["3000541721","4100258228"]}